{"version":3,"sources":["components/TaskSelection.js","components/ContextSelection.js","components/PromptSelection.js","components/Sidebar.js","components/MainContent.js","App.js","reportWebVitals.js","index.js"],"names":["TaskSelection","_ref","taskType","updateConfig","React","createElement","id","className","type","onClick","role","aria-label","ContextSelection","selectedContextId","numContexts","contextText","Array","keys","map","contextId","key","src","alt","PromptSelection","selectedPromptId","numPrompts","promptText","promptId","Sidebar","config","task","selected_context_id","num_contexts","context_text","selected_prompt_id","num_prompts","prompt_text","MainContent","changeSelection","num_features","feat","style","visibility","interpolateColor","value","redColor","greenColor","hexToRgb","hex","bigint","parseInt","replace","Math","max","min","rgbGreen","rgbRed","t","r","g","b","toString","slice","toUpperCase","rgbToHex","round","App","setConfig","useState","selected_features","Set","feature_values","useEffect","fetch","then","response","json","data","prevConfig","context_data","newConfig","[object Object]","taskData","length","item","context","contextData","prompts","fill","console","log","clickedFeature","has","delete","add","divElement","document","getElementById","imgElement","querySelector","imgOverlay","getElementsByClassName","scoreElement","rootStyles","getComputedStyle","documentElement","getPropertyValue","trim","overlayDefaultColor","selectedColor","borderDefaultColor","textContent","border","backgroundColor","toFixed","color","colorPatches","reportWebVitals","onPerfEntry","Function","__webpack_require__","e","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.4314d0f8.chunk.js","sourcesContent":["import React from 'react';\n\nfunction TaskSelection({ taskType, updateConfig }) {\n  return (\n    <div id=\"task-container\">\n      <h3>Select a Task</h3>\n      <div className=\"image-selection-grid\">\n        <button\n            type=\"button\"\n            className={`task-button ${taskType === 'image' ? 'selected' : ''}`}\n            onClick={() => updateConfig('task', 'image')}\n        >\n            <span role=\"img\" aria-label=\"image\">üñºÔ∏è</span> Image\n        </button>\n        <button\n            type=\"button\"\n            className={`task-button ${taskType === 'text' ? 'selected' : ''}`}\n            onClick={() => updateConfig('task', 'text')}\n        >\n            <span role=\"img\" aria-label=\"text\">üìÑ</span> Text\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default TaskSelection;","import React from 'react';\n\nfunction ContextSelection({ selectedContextId, numContexts, taskType, contextText, updateConfig }) {\n  if (!taskType) return null;\n\n  if (taskType === 'image') {\n    return (\n        <div id=\"context-container\">\n            <h3>Select an Image</h3>\n            <div className=\"image-selection-grid\" id='image-context-selection-grid'>\n                {[...Array(numContexts).keys()].map((contextId) => (\n                <div \n                    key={contextId}\n                    className={`context-image-button ${selectedContextId === contextId ? 'selected' : ''}`}\n                    onClick={() => updateConfig('selected_context_id', contextId)}\n                >\n                    <img src={`${process.env.PUBLIC_URL}/assets/image_${contextId}.png`} alt=\"Option\"/>\n                </div>\n                ))}\n            </div>\n        </div>\n      );\n  } \n  \n  if (taskType === 'text') {\n    return (\n        <div id=\"context-container\">\n            <h3>Select a Context</h3>\n            <div className={`text-selection-grid`}>\n                {[...Array(numContexts).keys()].map((contextId) => (\n                <button\n                    key={contextId}\n                    type=\"button\"\n                    className={`context-text-button ${selectedContextId === contextId ? 'selected' : ''}`}\n                    onClick={() => updateConfig('selected_context_id', contextId)}\n                >\n                    {contextText[contextId]}\n                </button>\n                ))}\n            </div>\n        </div>\n      );\n  }\n\n  return null;\n\n}\n\nexport default ContextSelection;","import React from 'react';\n\nfunction PromptSelection({ selectedPromptId, numPrompts, taskType, promptText, updateConfig }) {\n  if (!taskType || numPrompts === null) return null;\n\n  return (\n    <div id=\"prompt-container\">\n      <h3>Select a Prompt</h3>\n      <div className=\"text-selection-grid\">\n        {[...Array(numPrompts).keys()].map((promptId) => (\n          <button\n            key={promptId}\n            type=\"button\"\n            className={`prompt-button ${selectedPromptId === promptId ? 'selected' : ''}`}\n            onClick={() => updateConfig('selected_prompt_id', promptId)}\n          >\n            {promptText[promptId]}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default PromptSelection;","import React from 'react';\nimport TaskSelection from './TaskSelection';\nimport ContextSelection from './ContextSelection';\nimport PromptSelection from './PromptSelection';\n\nfunction Sidebar({ config, updateConfig }) {\n  return (\n    <div className=\"sidebar\">\n      <h2><span role=\"img\" aria-label=\"sunglasses\">üï∂Ô∏è</span> SPEX</h2>\n      <TaskSelection taskType={config.task} updateConfig={updateConfig} />\n      <ContextSelection\n        selectedContextId={config.selected_context_id}\n        numContexts={config.num_contexts}\n        taskType={config.task}\n        contextText={config.context_text}\n        updateConfig={updateConfig}\n      />\n      <PromptSelection\n        selectedPromptId={config.selected_prompt_id}\n        numPrompts={config.num_prompts}\n        taskType={config.task}\n        promptText={config.prompt_text}\n        updateConfig={updateConfig}\n      />\n    </div>\n  );\n}\n\nexport default Sidebar;","import React from 'react';\n\nfunction MainContent({ config, changeSelection}) {\n  const { task, selected_context_id, num_features } = config;\n\n  if (!task || selected_context_id === null) return null;\n\n  if (task === 'image') {\n    var content = (\n      <div className=\"main-content\">\n          <div className=\"grid-container\">\n          {[...Array(num_features).keys()].map((feat) => (\n              <div key={feat} className=\"patch\" id={`patch-${feat}`} onClick={() => changeSelection(feat)}>\n              <img src={`${process.env.PUBLIC_URL}/assets/image_${selected_context_id}/split_${feat}.png`} alt=\"Part\" />\n              <div className=\"patch-overlay\"></div>\n              <div className=\"patch-text\" style={{ visibility: 'hidden' }}></div>\n              </div>\n          ))}\n          </div>\n      </div>\n    );\n    return content;\n  }\n  \n  if (task === 'text') {\n    return (\n      <div className=\"main-content\">\n          <div className=\"text-container\">\n          {[...Array(num_features).keys()].map((feat) => (\n              <div key={feat} className=\"token-wrapper\" id={`token-${feat}`} onClick={() => changeSelection(feat)} style={{ visibility: 'hidden' }}>\n              <div className=\"token-text\">0</div>\n              <span className=\"inline-token\"></span>\n              </div>\n          ))}\n          </div>\n      </div>\n    );\n  }\n\n}\n\nfunction colorTokens(num_features, selected_features, feature_values){\n    for (let feat = 0; feat < `${num_features}`; feat++) {\n        let divElement = document.getElementById(`token-${feat}`);\n        let tokenElement = divElement.getElementsByClassName(\"inline-token\")[0];\n        let scoreElement = divElement.getElementsByClassName(\"token-text\")[0];\n\n        let rootStyles = getComputedStyle(document.documentElement);\n        let greenColor = rootStyles.getPropertyValue('--overlay-positive-color').trim();\n        let redColor = rootStyles.getPropertyValue('--overlay-negative-color').trim();\n        let overlayDefaultColor = rootStyles.getPropertyValue('--overlay-default-color').trim();\n        let selectedColor = rootStyles.getPropertyValue('--border-selected-color').trim();\n        let borderDefaultColor = rootStyles.getPropertyValue('--border-default-color').trim();\n\n        if (selected_features.includes(feat)) {\n            scoreElement.textContent = \"\";\n            scoreElement.style.visibility = \"hidden\";\n            tokenElement.style.backgroundColor = `${overlayDefaultColor}60`;\n            tokenElement.style.border = `3px solid ${selectedColor}`;\n        } else {\n            scoreElement.textContent = feature_values[feat].toFixed(2);\n            scoreElement.style.visibility = \"visible\";\n            var backgroundColor = interpolateColor(feature_values[feat], redColor, greenColor)\n            tokenElement.style.backgroundColor = `${backgroundColor}60`;\n            tokenElement.style.border = `3px solid ${borderDefaultColor}`;\n            scoreElement.style.color = `${backgroundColor}`;\n        }\n    }\n}\n\nfunction colorPatches(num_features, selected_features, feature_values){\n    for (let feat = 0; feat < `${num_features}`; feat++) {\n        let divElement = document.getElementById(`patch-${feat}`);\n        let imgElement = divElement.querySelector(\"img\");\n        let imgOverlay = divElement.getElementsByClassName(\"patch-overlay\")[0];\n        let scoreElement = divElement.getElementsByClassName(\"patch-text\")[0];\n        \n        let rootStyles = getComputedStyle(document.documentElement);\n        let greenColor = rootStyles.getPropertyValue('--overlay-positive-color').trim();\n        let redColor = rootStyles.getPropertyValue('--overlay-negative-color').trim();\n        let overlayDefaultColor = rootStyles.getPropertyValue('--overlay-default-color').trim();\n        let selectedColor = rootStyles.getPropertyValue('--border-selected-color').trim();\n        let borderDefaultColor = rootStyles.getPropertyValue('--border-default-color').trim();\n\n        if (selected_features.has(feat)) {\n            scoreElement.textContent = \"\";\n            scoreElement.style.visibility = \"hidden\";\n            imgElement.style.border = `6px solid ${selectedColor}`;\n            imgOverlay.style.border = `6px solid ${selectedColor}`;\n            imgOverlay.style.backgroundColor = `${overlayDefaultColor}60`;\n        } else {\n            scoreElement.textContent = feature_values[feat].toFixed(2);\n            scoreElement.style.visibility = \"visible\";\n            imgElement.style.border = `6px solid ${greenColor}`;\n            imgOverlay.style.border = `6px solid ${borderDefaultColor}`;\n            var backgroundColor = interpolateColor(feature_values[feat], redColor, greenColor)\n            scoreElement.style.color = `${backgroundColor}`;\n            imgOverlay.style.backgroundColor = `${backgroundColor}60`;\n        }\n    }\n}\n\nexport { colorTokens , colorPatches};\nexport default MainContent;\n\nfunction interpolateColor(value, redColor, greenColor) {\n    // Ensure value is clamped between -1 and 1\n    value = Math.max(-1, Math.min(1, value));\n    // Convert hex to RGB\n    function hexToRgb(hex) {\n        let bigint = parseInt(hex.replace(\"#\", \"\"), 16);\n        return [(bigint >> 16) & 255, (bigint >> 8) & 255, bigint & 255];\n    }\n    // Convert RGB to hex\n    function rgbToHex(r, g, b) {\n        return `#${((1 << 24) | (r << 16) | (g << 8) | b).toString(16).slice(1).toUpperCase()}`;\n    }\n    // Get RGB values\n    let rgbGreen = hexToRgb(greenColor);\n    let rgbRed = hexToRgb(redColor);\n    // Normalize value from [-1,1] to [0,1]\n    let t = (value + 1) / 2;\n    // Linear interpolation for each color channel\n    let r = Math.round(rgbRed[0] + (rgbGreen[0] - rgbRed[0]) * t);\n    let g = Math.round(rgbRed[1] + (rgbGreen[1] - rgbRed[1]) * t);\n    let b = Math.round(rgbRed[2] + (rgbGreen[2] - rgbRed[2]) * t);\n    return rgbToHex(r, g, b);\n}\n","import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Sidebar from './components/Sidebar';\nimport MainContent, { colorTokens, colorPatches } from './components/MainContent';\n\nfunction App() {\n  const [config, setConfig] = useState({\n    task: null,\n    selected_context_id: null,\n    selected_prompt_id: null,\n    num_contexts: null,\n    context_text: [],\n    num_prompts: null,\n    prompt_text: [],\n    num_features: 12,\n    selected_features: new Set(),\n    feature_values: [],\n  });\n\n  useEffect(() => {\n    fetch(`${process.env.PUBLIC_URL}/config.json`)\n      .then((response) => response.json())\n      .then((data) => {\n        setConfig((prevConfig) => ({\n          ...prevConfig,\n          context_data: data,\n        }));\n      });\n  }, []);\n\n  const updateConfig = (key, value) => {\n    setConfig((prevConfig) => {\n      const newConfig = { ...prevConfig, [key]: value };\n\n      if (key === 'task') {\n        const taskData = newConfig.context_data[value];\n        newConfig.num_contexts = taskData.length;\n        newConfig.context_text = taskData.map((item) => item.context);\n        newConfig.selected_context_id = null;\n        newConfig.selected_prompt_id = null;\n        newConfig.num_prompts = null;\n        newConfig.prompt_text = [];\n      }\n\n      if (key === 'selected_context_id') {\n        const taskData = newConfig.context_data[newConfig.task];\n        const contextData = taskData[value];\n        newConfig.num_prompts = contextData.prompts.length;\n        newConfig.prompt_text = contextData.prompts;\n        newConfig.selected_prompt_id = null;\n      }\n\n      if (key === 'selected_prompt_id') {\n        // const taskData = newConfig.context_data[newConfig.task];\n        // const contextData = taskData[newConfig.selected_context_id];\n        // const promptData = contextData.prompts[value];\n        newConfig.num_features = 12;\n        newConfig.selected_features = new Set();\n        newConfig.feature_values = Array(newConfig.num_features).fill(0);\n      }\n\n      console.log('Updated config:', key, value);\n\n      return newConfig;\n    });\n  };\n\n  const changeSelection = (clickedFeature) => {\n\n    setConfig((prevConfig) => {\n      if (clickedFeature === null) return prevConfig;\n\n      const newConfig = prevConfig;\n      if (newConfig.selected_features.has(clickedFeature)) {\n        newConfig.selected_features.delete(clickedFeature);\n      } else {\n        newConfig.selected_features.add(clickedFeature);\n      }\n\n      return newConfig;\n    });\n\n    console.log('feature_values:', config.feature_values);\n\n    colorPatches(config.num_features, config.selected_features, config.feature_values);\n\n  };\n\n  return (\n    <div className=\"App\">\n      <Sidebar config={config} updateConfig={updateConfig} />\n      <MainContent config={config} changeSelection={changeSelection}/>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}